<section>
  <div class="container">
    <div class="flex">

      <div class="produto">

        <div class="info">
          <div *ngIf="produto.imagem != undefined" class="imagem-produto">
            <img [src]="apiUrl+'/produto/download/'+produto.imagem" alt="">
          </div>
          <div>
            <p class="mob">Promoção da loja: {{ produto.lojaResponseDto.nome_loja }}</p>
            <p class="data">há {{calculateElapsedTime(produto.dataCriacao)}}</p>
          </div>

          <div class="informaçoes">
            <div>
              <h2 class="titulo">{{ produto.titulo }}</h2>
              <p class="data data-none">há {{calculateElapsedTime(produto.dataCriacao)}}</p>
            </div>
            <p class="preco">{{ produto.preco }}</p>

            <div *ngIf="produto.cupom" class="cupom">
              <div>
                <p>{{ produto.cupom }}</p>
                <div class="copiar">
                  <mat-icon class="icon-copy">content_copy</mat-icon>
                  <p>COPIAR</p>
                </div>
              </div>
            </div>

            <div class="frete">
              <mat-icon>local_shipping</mat-icon>
              <p>{{ produto.freteVariacoes }}</p>
            </div>

            <div class="ir-loja">
              <a href="{{ produto.link }}" target="_blank">Ir a Loja</a>
            </div>
          </div>
        </div>

        <hr class="linha-estilizada">

        <div class="outras-info">
          <div>
            <button mat-icon-button (click)="likeFuncao()">
              <mat-icon>thumb_up</mat-icon>
            </button>
            <button mat-icon-button (click)="deslikeFuncao()">
              <mat-icon>thumb_down</mat-icon>
            </button>
            <p>{{ like }}</p>
          </div>
          <button class="report" (click)="abrirModal()">Reportar</button>
          <button (click)="compartilhar()" class="comp">
            <mat-icon>share</mat-icon>
            Compartilhar
          </button>
          <div class="loja">
            <img *ngIf="produto.lojaResponseDto.urlImagem"
              [src]="apiUrl+'/loja/mostar-imagem/'+produto.lojaResponseDto.urlImagem"
              alt="{{ produto.lojaResponseDto.nome_loja }}">
            <div>
              <p>Promoção da loja:</p>
              <p>{{ produto.lojaResponseDto.nome_loja }}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="convite-mobile">
          <p>Grupo do WhatsApp</p>
          <p>Receba no WhatsApp as Melhores Promoções da internet</p>
          <a href="">ENTRAR NO GRUPO</a>
      </div>

      <div class="outras-promocoes">
          <h2>Outras Promoções</h2>
          <app-carrossel [categoriaId]="produto.categoriaDto.categoria_id"></app-carrossel>
      </div>

      <div class="ver-promocoes">
        <a routerLink="">Ver Todas as promoções do Dia</a>
      </div>

      <!-- <div class="descricao">
        <h2>Descrição</h2>
        <p>{{ produto.descricao }}</p>
      </div> -->

      <!-- <div class="produtos-categorias">
        <div *ngFor="let item of produtos" class="grid-item">
          <div>
            <img [src]="apiUrl+'/produto/download/'+item.imagem" alt="">
          </div>
          <div class="">
            <p class="nome-produto">
              <a href="/oferta/{{item.id}}">
                {{ item.titulo }}
              </a>
            </p>
            <p class="preco2">{{ item.preco }}</p>
            <div class="ver-promocao">
              <a href="{{ item.link }}" target="_blank">Pegar Promoção</a>
            </div>
          </div>
        </div>
      </div> -->

      <!-- Adicione esta div para a caixa de diálogo -->
      <div class="dialogo" (click)="fecharDialogCompartilhar()" *ngIf="mostrarDialogCompartilhar">
        <div class="opcoes-compartilhamento" (click)="impedirFechar($event)">
          <div>
            <mat-icon (click)="fecharDialogCompartilhar()" class="close-dialog">close</mat-icon>
          </div>
          <h2>Compartilhar em:</h2>
          <div class="botoes">
            <button mat-button *ngFor="let redeSocial of redesSociais" (click)="compartilharRedeSocial(redeSocial)">
              <img [src]="redeSocialIcon(redeSocial)">
            </button>
            <button (click)="copiarParaAreaTransferencia()">
              <img src="../../../assets/copy_paste_icon-icons.com_72426.png" alt="">
            </button>
          </div>
        </div>
      </div>

      <div class="reportar" *ngIf="modal" (click)="fecharModal()">
        <div class="opcoes-reportar" (click)="impedirFechar($event)">
          <button class="close-modal" (click)="fecharModal()">&times;</button>
          <h2>Opções de Report</h2>
          <div class="opcoes-botoes">
            <button (click)="reportar(produto.id, 'oferta')">Reportar Oferta</button>
            <button (click)="reportar(produto.id, 'cupom')">Reportar Cupom</button>
          </div>
        </div>
      </div>
    </div>

    <aside>
      <div class="convite">
        <h2>Gostou dessa promoção?</h2>
        <p>Entre no WhatsApp do Pechinchou e receba promoções imperdíveis de whatsapp</p>
        <a href="">WhatsApp</a>
      </div>

      <div class="convite">
      </div>
    </aside>
  </div>


</section>
